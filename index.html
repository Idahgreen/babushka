<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title></title>
</head>

<body>

    <header></header>
    <nav>
        <button id="filter-alle">Alle</button>
        <button id="filter-forretter">forretter</button>
        <button id="filter-hovedretter">hovedretter</button>
        <button id="filter-desserter">desserter</button>
    </nav>
    <main>
        <h1 class="overskrift"></h1>
        <div class="liste"> </div>
    </main>

    <template class="menutemplate">
    <article>
    <div class="ret">
        <img id="img">
        <h2 class="titel"></h2>
        <div class="descript" ></div>
        <div>Pris: <span class="pris"></span><br></div>
    </div>
    </article>
    </template>
    <footer>
        <section>
            <adress></adress>
            <aside></aside>
        </section>
    </footer>

    <script>
        document.addEventListener("DOMContentLoaded", hentJson);



        let ret;
        async function hentJson() {
            let jsonData = await fetch("menu.json");
            ret = await jsonData.json();
            vis(ret, "Menu");
            lavFiltre();
        }

        function vis(ret, overskrift) {
            let temp = document.querySelector(".menutemplate");
            let dest = document.querySelector(".liste");
            dest.innerHTML = "";
            document.querySelector(".overskrift").textContent = overskrift;
            ret.forEach(menu => {
                let klon = temp.cloneNode(true).content;
                klon.querySelector(".titel").textContent = menu.navn;
                klon.getElementById("img").src = "imgs/small/" + menu.billede + "-sm.jpg";
                klon.querySelector(".descript").textContent = menu.kortbeskrivelse;
                klon.querySelector(".pris").textContent = menu.pris;
                dest.appendChild(klon);
            });
        };



        function lavFiltre() {
            let foretter = ret.filter(menu => menu.kategori == "forretter");
            let hovedretter = ret.filter(menu => menu.kategori == "hovedretter");
            let desserter = ret.filter(menu => menu.kategori == "desserter");
            let drikkevarer = ret.filter(menu => menu.kategori == "drikkevarer");

            document.querySelector("#filter-alle").addEventListener("click", () => {
                vis(ret, "Menu");
            });
            document.querySelector("#filter-forretter").addEventListener("click", () => {
                vis(foretter, "Forretter");
            });
            document.querySelector("#filter-hovedretter").addEventListener("click", () => {
                vis(hovedretter, "Hovedretter");
            });
            document.querySelector("#filter-desserter").addEventListener("click", () => {
                vis(desserter, "Desserter");
            });

        }
    </script>
</body>

</html>
